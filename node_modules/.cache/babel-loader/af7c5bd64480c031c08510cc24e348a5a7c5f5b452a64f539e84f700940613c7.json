{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\JOEL DSILVA\\\\OneDrive\\\\Desktop\\\\Projects\\\\BoQ_Formwork_Fitting\\\\obsidian-core\\\\src\\\\components\\\\ui\\\\CommandPalette.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from \"react\";\nimport { LayoutDashboard, Activity, FileText, AlertTriangle, Key, RefreshCw, PanelLeft, Settings } from \"lucide-react\";\nimport { CMD_ITEMS } from \"../../constants/config\";\nimport { COLORS } from \"../../constants/tokens\";\nimport { useApp, ACTIONS } from \"../../context/AppContext\";\nimport { useKeyboard } from \"../../hooks/useKeyboard\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ICONS = {\n  LayoutDashboard,\n  Activity,\n  FileText,\n  AlertTriangle,\n  Key,\n  RefreshCw,\n  PanelLeft,\n  Settings\n};\nexport default function CommandPalette({\n  onAction\n}) {\n  _s();\n  const {\n    state,\n    dispatch,\n    closeCmd,\n    navigate,\n    toggleSidebar\n  } = useApp();\n  const {\n    open,\n    query,\n    selected\n  } = state.cmd;\n  const inputRef = useRef(null);\n  useEffect(() => {\n    if (open) setTimeout(() => {\n      var _inputRef$current;\n      return (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.focus();\n    }, 50);\n  }, [open]);\n  const filtered = CMD_ITEMS.filter(i => !query || i.label.toLowerCase().includes(query.toLowerCase()));\n  useKeyboard({\n    \"Escape\": () => {\n      if (open) closeCmd();\n    },\n    \"ArrowDown\": () => {\n      if (open) dispatch({\n        type: ACTIONS.SET_CMD_SELECTED,\n        payload: Math.min(selected + 1, filtered.length - 1)\n      });\n    },\n    \"ArrowUp\": () => {\n      if (open) dispatch({\n        type: ACTIONS.SET_CMD_SELECTED,\n        payload: Math.max(selected - 1, 0)\n      });\n    },\n    \"Enter\": () => {\n      if (open && filtered[selected]) executeItem(filtered[selected]);\n    }\n  });\n  const executeItem = item => {\n    closeCmd();\n    if (item.nav) navigate(item.nav);\n    if (item.action === \"refresh\") onAction(\"refresh\");\n    if (item.action === \"sidebar\") toggleSidebar();\n  };\n  if (!open) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cmd-overlay\",\n    onClick: closeCmd,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cmd-palette\",\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        ref: inputRef,\n        className: \"cmd-input\",\n        placeholder: \"Type a command or search\\u2026\",\n        value: query,\n        onChange: e => dispatch({\n          type: ACTIONS.SET_CMD_QUERY,\n          payload: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cmd-section\",\n        children: \"Commands\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), filtered.map((item, i) => {\n        var _ICONS$item$icon;\n        const Ic = (_ICONS$item$icon = ICONS[item.icon]) !== null && _ICONS$item$icon !== void 0 ? _ICONS$item$icon : Activity;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `cmd-item ${selected === i ? \"sel\" : \"\"}`,\n          onMouseEnter: () => dispatch({\n            type: ACTIONS.SET_CMD_SELECTED,\n            payload: i\n          }),\n          onClick: () => executeItem(item),\n          children: [/*#__PURE__*/_jsxDEV(Ic, {\n            size: 14,\n            color: selected === i ? COLORS.cyan : COLORS.muted\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"cmd-item-label\",\n            children: item.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"cmd-item-hint\",\n            children: item.hint\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 15\n          }, this)]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cmd-footer\",\n        children: [[\"↑↓\", \"Navigate\"], [\"↵\", \"Select\"], [\"ESC\", \"Close\"]].map(([k, v]) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"kbd-hint\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"kbd\",\n            children: k\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this), v]\n        }, k, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n_s(CommandPalette, \"3sqViRyCUgjdJdfPgoDhG5zvk24=\", false, function () {\n  return [useApp, useKeyboard];\n});\n_c = CommandPalette;\nvar _c;\n$RefreshReg$(_c, \"CommandPalette\");","map":{"version":3,"names":["React","useEffect","useRef","LayoutDashboard","Activity","FileText","AlertTriangle","Key","RefreshCw","PanelLeft","Settings","CMD_ITEMS","COLORS","useApp","ACTIONS","useKeyboard","jsxDEV","_jsxDEV","ICONS","CommandPalette","onAction","_s","state","dispatch","closeCmd","navigate","toggleSidebar","open","query","selected","cmd","inputRef","setTimeout","_inputRef$current","current","focus","filtered","filter","i","label","toLowerCase","includes","Escape","ArrowDown","type","SET_CMD_SELECTED","payload","Math","min","length","ArrowUp","max","Enter","executeItem","item","nav","action","className","onClick","children","e","stopPropagation","ref","placeholder","value","onChange","SET_CMD_QUERY","target","fileName","_jsxFileName","lineNumber","columnNumber","map","_ICONS$item$icon","Ic","icon","onMouseEnter","size","color","cyan","muted","hint","k","v","_c","$RefreshReg$"],"sources":["C:/Users/JOEL DSILVA/OneDrive/Desktop/Projects/BoQ_Formwork_Fitting/obsidian-core/src/components/ui/CommandPalette.jsx"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport {\n  LayoutDashboard, Activity, FileText, AlertTriangle,\n  Key, RefreshCw, PanelLeft, Settings\n} from \"lucide-react\";\nimport { CMD_ITEMS } from \"../../constants/config\";\nimport { COLORS } from \"../../constants/tokens\";\nimport { useApp, ACTIONS } from \"../../context/AppContext\";\nimport { useKeyboard } from \"../../hooks/useKeyboard\";\n\nconst ICONS = { LayoutDashboard, Activity, FileText, AlertTriangle, Key, RefreshCw, PanelLeft, Settings };\n\nexport default function CommandPalette({ onAction }) {\n  const { state, dispatch, closeCmd, navigate, toggleSidebar } = useApp();\n  const { open, query, selected } = state.cmd;\n  const inputRef = useRef(null);\n\n  useEffect(() => {\n    if (open) setTimeout(() => inputRef.current?.focus(), 50);\n  }, [open]);\n\n  const filtered = CMD_ITEMS.filter(\n    (i) => !query || i.label.toLowerCase().includes(query.toLowerCase())\n  );\n\n  useKeyboard({\n    \"Escape\":    () => { if (open) closeCmd(); },\n    \"ArrowDown\": () => { if (open) dispatch({ type: ACTIONS.SET_CMD_SELECTED, payload: Math.min(selected + 1, filtered.length - 1) }); },\n    \"ArrowUp\":   () => { if (open) dispatch({ type: ACTIONS.SET_CMD_SELECTED, payload: Math.max(selected - 1, 0) }); },\n    \"Enter\":     () => { if (open && filtered[selected]) executeItem(filtered[selected]); },\n  });\n\n  const executeItem = (item) => {\n    closeCmd();\n    if (item.nav) navigate(item.nav);\n    if (item.action === \"refresh\") onAction(\"refresh\");\n    if (item.action === \"sidebar\") toggleSidebar();\n  };\n\n  if (!open) return null;\n\n  return (\n    <div className=\"cmd-overlay\" onClick={closeCmd}>\n      <div className=\"cmd-palette\" onClick={(e) => e.stopPropagation()}>\n        <input\n          ref={inputRef}\n          className=\"cmd-input\"\n          placeholder=\"Type a command or search…\"\n          value={query}\n          onChange={(e) => dispatch({ type: ACTIONS.SET_CMD_QUERY, payload: e.target.value })}\n        />\n        <div className=\"cmd-section\">Commands</div>\n        {filtered.map((item, i) => {\n          const Ic = ICONS[item.icon] ?? Activity;\n          return (\n            <div key={i} className={`cmd-item ${selected === i ? \"sel\" : \"\"}`}\n              onMouseEnter={() => dispatch({ type: ACTIONS.SET_CMD_SELECTED, payload: i })}\n              onClick={() => executeItem(item)}>\n              <Ic size={14} color={selected === i ? COLORS.cyan : COLORS.muted} />\n              <span className=\"cmd-item-label\">{item.label}</span>\n              <span className=\"cmd-item-hint\">{item.hint}</span>\n            </div>\n          );\n        })}\n        <div className=\"cmd-footer\">\n          {[[\"↑↓\",\"Navigate\"],[\"↵\",\"Select\"],[\"ESC\",\"Close\"]].map(([k, v]) => (\n            <div key={k} className=\"kbd-hint\">\n              <span className=\"kbd\">{k}</span>{v}\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}