{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\JOEL DSILVA\\\\OneDrive\\\\Desktop\\\\Projects\\\\BoQ_Formwork_Fitting\\\\obsidian-core\\\\src\\\\components\\\\logs\\\\ServicesTable.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Server } from \"lucide-react\";\nimport { Badge } from \"../ui/Primitives\";\nimport { COLORS } from \"../../constants/tokens\";\nimport { SERVICES_DATA } from \"../../constants/config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst COLS = [\"SERVICE\", \"RPS\", \"P99\", \"ERR%\", \"STATUS\"];\nexport default function ServicesTable({\n  onRowClick,\n  onViewAll\n}) {\n  _s();\n  const [sort, setSort] = useState({\n    col: \"service\",\n    dir: 1\n  });\n  const handleSort = col => {\n    setSort(s => ({\n      col,\n      dir: s.col === col ? -s.dir : 1\n    }));\n  };\n  const sorted = [...SERVICES_DATA].sort((a, b) => {\n    var _a$sort$col, _b$sort$col;\n    const av = (_a$sort$col = a[sort.col]) !== null && _a$sort$col !== void 0 ? _a$sort$col : \"\";\n    const bv = (_b$sort$col = b[sort.col]) !== null && _b$sort$col !== void 0 ? _b$sort$col : \"\";\n    return av.localeCompare(bv) * sort.dir;\n  });\n  const statusVariant = s => {\n    var _ok$warn$err$s;\n    return (_ok$warn$err$s = {\n      ok: \"ok\",\n      warn: \"warn\",\n      err: \"down\"\n    }[s]) !== null && _ok$warn$err$s !== void 0 ? _ok$warn$err$s : \"gray\";\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"panel\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"panel-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel-title\",\n        children: [/*#__PURE__*/_jsxDEV(Server, {\n          size: 12,\n          color: COLORS.cyan\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 11\n        }, this), \"SERVICE OVERVIEW\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-ghost\",\n        onClick: onViewAll,\n        children: \"VIEW ALL\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        overflow: \"auto\",\n        maxHeight: 172\n      },\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"data-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: COLS.map(c => /*#__PURE__*/_jsxDEV(\"th\", {\n              onClick: () => handleSort(c.toLowerCase().replace(\"%\", \"\")),\n              children: [c, \" \", sort.col === c.toLowerCase().replace(\"%\", \"\") ? sort.dir === 1 ? \"↑\" : \"↓\" : \"\"]\n            }, c, true, {\n              fileName: _jsxFileName,\n              lineNumber: 38,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: sorted.map(r => /*#__PURE__*/_jsxDEV(\"tr\", {\n            onClick: () => onRowClick(r),\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"mono\",\n              style: {\n                color: COLORS.cyan\n              },\n              children: r.service\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"mono\",\n              children: r.rps\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"mono\",\n              children: r.p99\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"mono\",\n              style: {\n                color: r.err !== \"0.000%\" ? COLORS.amber : COLORS.muted\n              },\n              children: r.err\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(Badge, {\n                variant: statusVariant(r.status),\n                children: r.status.toUpperCase()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 17\n            }, this)]\n          }, r.service, true, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, this);\n}\n_s(ServicesTable, \"OvYuynDiniGYj3QxH7tyMBRRRl8=\");\n_c = ServicesTable;\nvar _c;\n$RefreshReg$(_c, \"ServicesTable\");","map":{"version":3,"names":["React","useState","Server","Badge","COLORS","SERVICES_DATA","jsxDEV","_jsxDEV","COLS","ServicesTable","onRowClick","onViewAll","_s","sort","setSort","col","dir","handleSort","s","sorted","a","b","_a$sort$col","_b$sort$col","av","bv","localeCompare","statusVariant","_ok$warn$err$s","ok","warn","err","className","children","size","color","cyan","fileName","_jsxFileName","lineNumber","columnNumber","onClick","style","overflow","maxHeight","map","c","toLowerCase","replace","r","service","rps","p99","amber","muted","variant","status","toUpperCase","_c","$RefreshReg$"],"sources":["C:/Users/JOEL DSILVA/OneDrive/Desktop/Projects/BoQ_Formwork_Fitting/obsidian-core/src/components/logs/ServicesTable.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Server } from \"lucide-react\";\nimport { Badge } from \"../ui/Primitives\";\nimport { COLORS } from \"../../constants/tokens\";\nimport { SERVICES_DATA } from \"../../constants/config\";\n\nconst COLS = [\"SERVICE\", \"RPS\", \"P99\", \"ERR%\", \"STATUS\"];\n\nexport default function ServicesTable({ onRowClick, onViewAll }) {\n  const [sort, setSort] = useState({ col: \"service\", dir: 1 });\n\n  const handleSort = (col) => {\n    setSort((s) => ({ col, dir: s.col === col ? -s.dir : 1 }));\n  };\n\n  const sorted = [...SERVICES_DATA].sort((a, b) => {\n    const av = a[sort.col] ?? \"\";\n    const bv = b[sort.col] ?? \"\";\n    return av.localeCompare(bv) * sort.dir;\n  });\n\n  const statusVariant = (s) => ({ ok:\"ok\", warn:\"warn\", err:\"down\" }[s] ?? \"gray\");\n\n  return (\n    <div className=\"panel\">\n      <div className=\"panel-header\">\n        <div className=\"panel-title\">\n          <Server size={12} color={COLORS.cyan} />\n          SERVICE OVERVIEW\n        </div>\n        <button className=\"btn-ghost\" onClick={onViewAll}>VIEW ALL</button>\n      </div>\n      <div style={{ overflow:\"auto\", maxHeight:172 }}>\n        <table className=\"data-table\">\n          <thead>\n            <tr>\n              {COLS.map((c) => (\n                <th key={c} onClick={() => handleSort(c.toLowerCase().replace(\"%\",\"\"))}>\n                  {c} {sort.col === c.toLowerCase().replace(\"%\",\"\") ? (sort.dir === 1 ? \"↑\" : \"↓\") : \"\"}\n                </th>\n              ))}\n            </tr>\n          </thead>\n          <tbody>\n            {sorted.map((r) => (\n              <tr key={r.service} onClick={() => onRowClick(r)}>\n                <td className=\"mono\" style={{ color: COLORS.cyan }}>{r.service}</td>\n                <td className=\"mono\">{r.rps}</td>\n                <td className=\"mono\">{r.p99}</td>\n                <td className=\"mono\" style={{ color: r.err !== \"0.000%\" ? COLORS.amber : COLORS.muted }}>{r.err}</td>\n                <td><Badge variant={statusVariant(r.status)}>{r.status.toUpperCase()}</Badge></td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,MAAM,QAAQ,cAAc;AACrC,SAASC,KAAK,QAAQ,kBAAkB;AACxC,SAASC,MAAM,QAAQ,wBAAwB;AAC/C,SAASC,aAAa,QAAQ,wBAAwB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvD,MAAMC,IAAI,GAAG,CAAC,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,QAAQ,CAAC;AAExD,eAAe,SAASC,aAAaA,CAAC;EAAEC,UAAU;EAAEC;AAAU,CAAC,EAAE;EAAAC,EAAA;EAC/D,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGb,QAAQ,CAAC;IAAEc,GAAG,EAAE,SAAS;IAAEC,GAAG,EAAE;EAAE,CAAC,CAAC;EAE5D,MAAMC,UAAU,GAAIF,GAAG,IAAK;IAC1BD,OAAO,CAAEI,CAAC,KAAM;MAAEH,GAAG;MAAEC,GAAG,EAAEE,CAAC,CAACH,GAAG,KAAKA,GAAG,GAAG,CAACG,CAAC,CAACF,GAAG,GAAG;IAAE,CAAC,CAAC,CAAC;EAC5D,CAAC;EAED,MAAMG,MAAM,GAAG,CAAC,GAAGd,aAAa,CAAC,CAACQ,IAAI,CAAC,CAACO,CAAC,EAAEC,CAAC,KAAK;IAAA,IAAAC,WAAA,EAAAC,WAAA;IAC/C,MAAMC,EAAE,IAAAF,WAAA,GAAGF,CAAC,CAACP,IAAI,CAACE,GAAG,CAAC,cAAAO,WAAA,cAAAA,WAAA,GAAI,EAAE;IAC5B,MAAMG,EAAE,IAAAF,WAAA,GAAGF,CAAC,CAACR,IAAI,CAACE,GAAG,CAAC,cAAAQ,WAAA,cAAAA,WAAA,GAAI,EAAE;IAC5B,OAAOC,EAAE,CAACE,aAAa,CAACD,EAAE,CAAC,GAAGZ,IAAI,CAACG,GAAG;EACxC,CAAC,CAAC;EAEF,MAAMW,aAAa,GAAIT,CAAC;IAAA,IAAAU,cAAA;IAAA,QAAAA,cAAA,GAAM;MAAEC,EAAE,EAAC,IAAI;MAAEC,IAAI,EAAC,MAAM;MAAEC,GAAG,EAAC;IAAO,CAAC,CAACb,CAAC,CAAC,cAAAU,cAAA,cAAAA,cAAA,GAAI,MAAM;EAAA,CAAC;EAEhF,oBACErB,OAAA;IAAKyB,SAAS,EAAC,OAAO;IAAAC,QAAA,gBACpB1B,OAAA;MAAKyB,SAAS,EAAC,cAAc;MAAAC,QAAA,gBAC3B1B,OAAA;QAAKyB,SAAS,EAAC,aAAa;QAAAC,QAAA,gBAC1B1B,OAAA,CAACL,MAAM;UAACgC,IAAI,EAAE,EAAG;UAACC,KAAK,EAAE/B,MAAM,CAACgC;QAAK;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,oBAE1C;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACNjC,OAAA;QAAQyB,SAAS,EAAC,WAAW;QAACS,OAAO,EAAE9B,SAAU;QAAAsB,QAAA,EAAC;MAAQ;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAChE,CAAC,eACNjC,OAAA;MAAKmC,KAAK,EAAE;QAAEC,QAAQ,EAAC,MAAM;QAAEC,SAAS,EAAC;MAAI,CAAE;MAAAX,QAAA,eAC7C1B,OAAA;QAAOyB,SAAS,EAAC,YAAY;QAAAC,QAAA,gBAC3B1B,OAAA;UAAA0B,QAAA,eACE1B,OAAA;YAAA0B,QAAA,EACGzB,IAAI,CAACqC,GAAG,CAAEC,CAAC,iBACVvC,OAAA;cAAYkC,OAAO,EAAEA,CAAA,KAAMxB,UAAU,CAAC6B,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,OAAO,CAAC,GAAG,EAAC,EAAE,CAAC,CAAE;cAAAf,QAAA,GACpEa,CAAC,EAAC,GAAC,EAACjC,IAAI,CAACE,GAAG,KAAK+B,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,OAAO,CAAC,GAAG,EAAC,EAAE,CAAC,GAAInC,IAAI,CAACG,GAAG,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAI,EAAE;YAAA,GAD9E8B,CAAC;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAEN,CACL;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC,eACRjC,OAAA;UAAA0B,QAAA,EACGd,MAAM,CAAC0B,GAAG,CAAEI,CAAC,iBACZ1C,OAAA;YAAoBkC,OAAO,EAAEA,CAAA,KAAM/B,UAAU,CAACuC,CAAC,CAAE;YAAAhB,QAAA,gBAC/C1B,OAAA;cAAIyB,SAAS,EAAC,MAAM;cAACU,KAAK,EAAE;gBAAEP,KAAK,EAAE/B,MAAM,CAACgC;cAAK,CAAE;cAAAH,QAAA,EAAEgB,CAAC,CAACC;YAAO;cAAAb,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACpEjC,OAAA;cAAIyB,SAAS,EAAC,MAAM;cAAAC,QAAA,EAAEgB,CAAC,CAACE;YAAG;cAAAd,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACjCjC,OAAA;cAAIyB,SAAS,EAAC,MAAM;cAAAC,QAAA,EAAEgB,CAAC,CAACG;YAAG;cAAAf,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACjCjC,OAAA;cAAIyB,SAAS,EAAC,MAAM;cAACU,KAAK,EAAE;gBAAEP,KAAK,EAAEc,CAAC,CAAClB,GAAG,KAAK,QAAQ,GAAG3B,MAAM,CAACiD,KAAK,GAAGjD,MAAM,CAACkD;cAAM,CAAE;cAAArB,QAAA,EAAEgB,CAAC,CAAClB;YAAG;cAAAM,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACrGjC,OAAA;cAAA0B,QAAA,eAAI1B,OAAA,CAACJ,KAAK;gBAACoD,OAAO,EAAE5B,aAAa,CAACsB,CAAC,CAACO,MAAM,CAAE;gBAAAvB,QAAA,EAAEgB,CAAC,CAACO,MAAM,CAACC,WAAW,CAAC;cAAC;gBAAApB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA,GAL3ES,CAAC,CAACC,OAAO;YAAAb,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAMd,CACL;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAAC5B,EAAA,CAlDuBH,aAAa;AAAAiD,EAAA,GAAbjD,aAAa;AAAA,IAAAiD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}