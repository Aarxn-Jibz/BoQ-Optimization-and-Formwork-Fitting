{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\JOEL DSILVA\\\\OneDrive\\\\Desktop\\\\Projects\\\\BoQ_Formwork_Fitting\\\\obsidian-core\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useState } from \"react\";\nimport \"./index.css\";\nimport { AppProvider, useApp, ACTIONS } from \"./context/AppContext\";\nimport { useNotifications } from \"./hooks/useNotifications\";\nimport { useLiveMetrics } from \"./hooks/useLiveMetrics\";\nimport { useKeyboard } from \"./hooks/useKeyboard\";\nimport Topbar from \"./components/layout/Topbar\";\nimport Sidebar from \"./components/layout/Sidebar\";\nimport Drawer from \"./components/ui/Drawer\";\nimport CommandPalette from \"./components/ui/CommandPalette\";\nimport NotificationStack from \"./components/ui/NotificationStack\";\n\n// ── Pages ──────────────────────────────────────────────────────\nimport OverviewPage from \"./pages/OverviewPage\";\nimport MetricsPage from \"./pages/MetricsPage\";\nimport LogsPage from \"./pages/LogsPage\";\nimport InputPage from \"./pages/InputPage\";\nimport KittingPage from \"./pages/KittingPage\";\nimport InventoryPage from \"./pages/InventoryPage\";\nimport AlertsPage from \"./pages/AlertsPage\";\nimport HistoryPage from \"./pages/HistoryPage\";\nimport SettingsPage from \"./pages/SettingsPage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction InnerApp() {\n  _s();\n  const {\n    state,\n    dispatch,\n    openDrawer,\n    openCmd,\n    setLoading,\n    toggleSidebar\n  } = useApp();\n  const {\n    notifications,\n    push,\n    dismiss\n  } = useNotifications();\n\n  // ── Shared optimization result (Input → Kitting) ─────────────\n  const [optimizationResult, setOptimizationResult] = useState(null);\n  const onNewLog = useCallback(log => {\n    if (log.level === \"ERROR\") push({\n      title: \"Yard Alert\",\n      msg: log.msg\n    }, \"err\");\n  }, [push]);\n  const {\n    metrics,\n    cpuChart,\n    memChart,\n    rpsChart,\n    barData,\n    sparkCpu,\n    logs,\n    refresh\n  } = useLiveMetrics(onNewLog);\n  useKeyboard({\n    \"k+any\": openCmd,\n    \"b+any\": toggleSidebar,\n    \"r+any\": handleRefresh,\n    \"1+any\": () => dispatch({\n      type: ACTIONS.SET_ACTIVE_NAV,\n      payload: \"overview\"\n    }),\n    \"2+any\": () => dispatch({\n      type: ACTIONS.SET_ACTIVE_NAV,\n      payload: \"input\"\n    }),\n    \"3+any\": () => dispatch({\n      type: ACTIONS.SET_ACTIVE_NAV,\n      payload: \"kitting\"\n    }),\n    \"4+any\": () => dispatch({\n      type: ACTIONS.SET_ACTIVE_NAV,\n      payload: \"inventory\"\n    })\n  });\n  function handleRefresh() {\n    setLoading(true);\n    refresh();\n    setTimeout(() => {\n      setLoading(false);\n      push({\n        title: \"Data Refreshed\",\n        msg: \"All metrics updated\"\n      }, \"ok\");\n    }, 1200);\n  }\n\n  // ── Drawer openers (same pattern as original) ─────────────────\n  const openCardDrawer = type => openDrawer({\n    type,\n    value: metrics[type]\n  });\n  const openLogDrawer = log => openDrawer({\n    type: \"log\",\n    log\n  });\n  const openAlertDrawer = alert => openDrawer({\n    type: \"alert\",\n    alert\n  });\n  const openServiceDrawer = service => openDrawer({\n    type: \"service\",\n    service\n  });\n  const openKitDrawer = kit => openDrawer({\n    type: \"kit\",\n    kit\n  });\n  const openInventoryDrawer = item => openDrawer({\n    type: \"inventory\",\n    item\n  });\n  const openHistoryDrawer = run => openDrawer({\n    type: \"history\",\n    run\n  });\n  const handleDrawerAction = (action, payload) => {\n    var _payload$title;\n    if (action === \"alert-set\") push({\n      title: \"Alert Created\",\n      msg: `Threshold set for ${(payload !== null && payload !== void 0 ? payload : \"\").toUpperCase()}`\n    }, \"ok\");\n    if (action === \"ack\") push({\n      title: \"Acknowledged\",\n      msg: (_payload$title = payload === null || payload === void 0 ? void 0 : payload.title) !== null && _payload$title !== void 0 ? _payload$title : \"Alert resolved\"\n    }, \"ok\");\n    if (action === \"escalate\") push({\n      title: \"Escalated\",\n      msg: \"Sent to site engineer\"\n    }, \"warn\");\n    if (action === \"view-trace\") push({\n      title: \"Trace Viewer\",\n      msg: \"Opening distributed trace…\"\n    }, \"info\");\n    if (action === \"rerun\") push({\n      title: \"Re-running\",\n      msg: `Loading run ${payload === null || payload === void 0 ? void 0 : payload.id}`\n    }, \"info\");\n  };\n\n  // ── Called by InputPage when optimization completes ──────────\n  const handleOptimizationComplete = useCallback(result => {\n    setOptimizationResult(result);\n    dispatch({\n      type: ACTIONS.SET_ACTIVE_NAV,\n      payload: \"kitting\"\n    });\n    push({\n      title: \"Optimization Complete\",\n      msg: `${result.estimated_cost_savings_percent}% cost savings · ${result.optimized_kits_required} kits`\n    }, \"ok\");\n  }, [dispatch, push]);\n\n  // ── Page router ───────────────────────────────────────────────\n  const renderPage = () => {\n    switch (state.activeNav) {\n      // ── original pages (kept exactly) ──\n      case \"metrics\":\n        return /*#__PURE__*/_jsxDEV(MetricsPage, {\n          cpuData: cpuChart,\n          memData: memChart,\n          rpsData: rpsChart,\n          metrics: metrics\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this);\n      case \"logs\":\n        return /*#__PURE__*/_jsxDEV(LogsPage, {\n          logs: logs,\n          onLogClick: openLogDrawer,\n          onServiceClick: openServiceDrawer,\n          push: push\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this);\n\n      // ── new formwork pages ──\n      case \"input\":\n        return /*#__PURE__*/_jsxDEV(InputPage, {\n          push: push,\n          setLoading: setLoading,\n          onComplete: handleOptimizationComplete\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this);\n      case \"kitting\":\n        return /*#__PURE__*/_jsxDEV(KittingPage, {\n          result: optimizationResult,\n          onKitClick: openKitDrawer,\n          onGoToInput: () => dispatch({\n            type: ACTIONS.SET_ACTIVE_NAV,\n            payload: \"input\"\n          }),\n          push: push\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this);\n      case \"inventory\":\n        return /*#__PURE__*/_jsxDEV(InventoryPage, {\n          onItemClick: openInventoryDrawer,\n          push: push\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this);\n      case \"alerts\":\n        return /*#__PURE__*/_jsxDEV(AlertsPage, {\n          onAlertClick: openAlertDrawer,\n          push: push\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this);\n      case \"history\":\n        return /*#__PURE__*/_jsxDEV(HistoryPage, {\n          onRunClick: openHistoryDrawer,\n          onRerun: run => {\n            push({\n              title: \"Loading Run\",\n              msg: run.id\n            }, \"info\");\n            openHistoryDrawer(run);\n          },\n          push: push\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this);\n      case \"settings\":\n        return /*#__PURE__*/_jsxDEV(SettingsPage, {\n          push: push\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 16\n        }, this);\n\n      // ── overview (default) ──\n      default:\n        return /*#__PURE__*/_jsxDEV(OverviewPage, {\n          metrics: metrics,\n          spark: sparkCpu,\n          cpuData: cpuChart,\n          memData: memChart,\n          rpsData: rpsChart,\n          barData: barData,\n          logs: logs,\n          optimizationResult: optimizationResult,\n          onCardClick: openCardDrawer,\n          onLogClick: openLogDrawer,\n          onAlertClick: openAlertDrawer,\n          onServiceClick: openServiceDrawer,\n          onGoToInput: () => dispatch({\n            type: ACTIONS.SET_ACTIVE_NAV,\n            payload: \"input\"\n          }),\n          onRefresh: handleRefresh,\n          push: push\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"obs-root\",\n    children: [state.loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"progress-bar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 25\n    }, this), /*#__PURE__*/_jsxDEV(Topbar, {\n      onRefresh: handleRefresh,\n      onOpenCmd: openCmd,\n      sidebarCollapsed: state.sidebarCollapsed\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"layout\",\n      children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n        metrics: metrics,\n        onToggle: toggleSidebar\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"main\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"breadcrumb\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"FORMWORK OS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"bc-sep\",\n            children: \"\\u203A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"bc-current\",\n            children: state.activeNav.toUpperCase()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"bc-sep\",\n            children: \"\\u203A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: \"#4a5568\",\n              fontFamily: \"'JetBrains Mono',monospace\",\n              fontSize: 11\n            },\n            children: new Date().toLocaleTimeString(\"en-GB\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this), optimizationResult && /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              marginLeft: \"auto\",\n              fontFamily: \"'JetBrains Mono',monospace\",\n              fontSize: 10,\n              background: \"rgba(63,185,80,0.1)\",\n              border: \"1px solid rgba(63,185,80,0.3)\",\n              color: \"#3FB950\",\n              padding: \"2px 10px\",\n              letterSpacing: \"0.06em\"\n            },\n            children: [\"\\u2713 \", optimizationResult.estimated_cost_savings_percent, \"% SAVINGS ACTIVE\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content\",\n          children: renderPage()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Drawer, {\n      data: state.drawer.data,\n      chartData: cpuChart,\n      onAction: handleDrawerAction\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CommandPalette, {\n      onAction: a => a === \"refresh\" && handleRefresh()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NotificationStack, {\n      notifications: notifications,\n      onDismiss: dismiss\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 180,\n    columnNumber: 5\n  }, this);\n}\n_s(InnerApp, \"gzIqJ/hhLBDGQC8lpiW0wRCc7bU=\", false, function () {\n  return [useApp, useNotifications, useLiveMetrics, useKeyboard];\n});\n_c = InnerApp;\nexport default function App() {\n  return /*#__PURE__*/_jsxDEV(AppProvider, {\n    children: /*#__PURE__*/_jsxDEV(InnerApp, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 23\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 240,\n    columnNumber: 10\n  }, this);\n}\n_c2 = App;\nvar _c, _c2;\n$RefreshReg$(_c, \"InnerApp\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useCallback","useState","AppProvider","useApp","ACTIONS","useNotifications","useLiveMetrics","useKeyboard","Topbar","Sidebar","Drawer","CommandPalette","NotificationStack","OverviewPage","MetricsPage","LogsPage","InputPage","KittingPage","InventoryPage","AlertsPage","HistoryPage","SettingsPage","jsxDEV","_jsxDEV","InnerApp","_s","state","dispatch","openDrawer","openCmd","setLoading","toggleSidebar","notifications","push","dismiss","optimizationResult","setOptimizationResult","onNewLog","log","level","title","msg","metrics","cpuChart","memChart","rpsChart","barData","sparkCpu","logs","refresh","handleRefresh","1+any","type","SET_ACTIVE_NAV","payload","2+any","3+any","4+any","setTimeout","openCardDrawer","value","openLogDrawer","openAlertDrawer","alert","openServiceDrawer","service","openKitDrawer","kit","openInventoryDrawer","item","openHistoryDrawer","run","handleDrawerAction","action","_payload$title","toUpperCase","id","handleOptimizationComplete","result","estimated_cost_savings_percent","optimized_kits_required","renderPage","activeNav","cpuData","memData","rpsData","fileName","_jsxFileName","lineNumber","columnNumber","onLogClick","onServiceClick","onComplete","onKitClick","onGoToInput","onItemClick","onAlertClick","onRunClick","onRerun","spark","onCardClick","onRefresh","className","children","loading","onOpenCmd","sidebarCollapsed","onToggle","style","color","fontFamily","fontSize","Date","toLocaleTimeString","marginLeft","background","border","padding","letterSpacing","data","drawer","chartData","onAction","a","onDismiss","_c","App","_c2","$RefreshReg$"],"sources":["C:/Users/JOEL DSILVA/OneDrive/Desktop/Projects/BoQ_Formwork_Fitting/obsidian-core/src/App.jsx"],"sourcesContent":["import React, { useCallback, useState } from \"react\";\nimport \"./index.css\";\nimport { AppProvider, useApp, ACTIONS } from \"./context/AppContext\";\nimport { useNotifications }   from \"./hooks/useNotifications\";\nimport { useLiveMetrics }     from \"./hooks/useLiveMetrics\";\nimport { useKeyboard }        from \"./hooks/useKeyboard\";\nimport Topbar                 from \"./components/layout/Topbar\";\nimport Sidebar                from \"./components/layout/Sidebar\";\nimport Drawer                 from \"./components/ui/Drawer\";\nimport CommandPalette         from \"./components/ui/CommandPalette\";\nimport NotificationStack      from \"./components/ui/NotificationStack\";\n\n// ── Pages ──────────────────────────────────────────────────────\nimport OverviewPage   from \"./pages/OverviewPage\";\nimport MetricsPage    from \"./pages/MetricsPage\";\nimport LogsPage       from \"./pages/LogsPage\";\nimport InputPage      from \"./pages/InputPage\";\nimport KittingPage    from \"./pages/KittingPage\";\nimport InventoryPage  from \"./pages/InventoryPage\";\nimport AlertsPage     from \"./pages/AlertsPage\";\nimport HistoryPage    from \"./pages/HistoryPage\";\nimport SettingsPage   from \"./pages/SettingsPage\";\n\nfunction InnerApp() {\n  const { state, dispatch, openDrawer, openCmd, setLoading, toggleSidebar } = useApp();\n  const { notifications, push, dismiss } = useNotifications();\n\n  // ── Shared optimization result (Input → Kitting) ─────────────\n  const [optimizationResult, setOptimizationResult] = useState(null);\n\n  const onNewLog = useCallback((log) => {\n    if (log.level === \"ERROR\")\n      push({ title: \"Yard Alert\", msg: log.msg }, \"err\");\n  }, [push]);\n\n  const {\n    metrics, cpuChart, memChart, rpsChart,\n    barData, sparkCpu, logs, refresh,\n  } = useLiveMetrics(onNewLog);\n\n  useKeyboard({\n    \"k+any\": openCmd,\n    \"b+any\": toggleSidebar,\n    \"r+any\": handleRefresh,\n    \"1+any\": () => dispatch({ type: ACTIONS.SET_ACTIVE_NAV, payload: \"overview\"  }),\n    \"2+any\": () => dispatch({ type: ACTIONS.SET_ACTIVE_NAV, payload: \"input\"     }),\n    \"3+any\": () => dispatch({ type: ACTIONS.SET_ACTIVE_NAV, payload: \"kitting\"   }),\n    \"4+any\": () => dispatch({ type: ACTIONS.SET_ACTIVE_NAV, payload: \"inventory\" }),\n  });\n\n  function handleRefresh() {\n    setLoading(true);\n    refresh();\n    setTimeout(() => {\n      setLoading(false);\n      push({ title: \"Data Refreshed\", msg: \"All metrics updated\" }, \"ok\");\n    }, 1200);\n  }\n\n  // ── Drawer openers (same pattern as original) ─────────────────\n  const openCardDrawer      = (type)    => openDrawer({ type,        value:   metrics[type] });\n  const openLogDrawer       = (log)     => openDrawer({ type: \"log\",       log              });\n  const openAlertDrawer     = (alert)   => openDrawer({ type: \"alert\",     alert            });\n  const openServiceDrawer   = (service) => openDrawer({ type: \"service\",   service          });\n  const openKitDrawer       = (kit)     => openDrawer({ type: \"kit\",       kit              });\n  const openInventoryDrawer = (item)    => openDrawer({ type: \"inventory\", item             });\n  const openHistoryDrawer   = (run)     => openDrawer({ type: \"history\",   run              });\n\n  const handleDrawerAction = (action, payload) => {\n    if (action === \"alert-set\") push({ title: \"Alert Created\",  msg: `Threshold set for ${(payload ?? \"\").toUpperCase()}` }, \"ok\");\n    if (action === \"ack\")       push({ title: \"Acknowledged\",   msg: payload?.title ?? \"Alert resolved\"                   }, \"ok\");\n    if (action === \"escalate\")  push({ title: \"Escalated\",      msg: \"Sent to site engineer\"                              }, \"warn\");\n    if (action === \"view-trace\")push({ title: \"Trace Viewer\",   msg: \"Opening distributed trace…\"                        }, \"info\");\n    if (action === \"rerun\")     push({ title: \"Re-running\",     msg: `Loading run ${payload?.id}`                        }, \"info\");\n  };\n\n  // ── Called by InputPage when optimization completes ──────────\n  const handleOptimizationComplete = useCallback((result) => {\n    setOptimizationResult(result);\n    dispatch({ type: ACTIONS.SET_ACTIVE_NAV, payload: \"kitting\" });\n    push({\n      title: \"Optimization Complete\",\n      msg:   `${result.estimated_cost_savings_percent}% cost savings · ${result.optimized_kits_required} kits`,\n    }, \"ok\");\n  }, [dispatch, push]);\n\n  // ── Page router ───────────────────────────────────────────────\n  const renderPage = () => {\n    switch (state.activeNav) {\n\n      // ── original pages (kept exactly) ──\n      case \"metrics\":\n        return (\n          <MetricsPage\n            cpuData={cpuChart} memData={memChart}\n            rpsData={rpsChart} metrics={metrics}\n          />\n        );\n      case \"logs\":\n        return (\n          <LogsPage\n            logs={logs}\n            onLogClick={openLogDrawer}\n            onServiceClick={openServiceDrawer}\n            push={push}\n          />\n        );\n\n      // ── new formwork pages ──\n      case \"input\":\n        return (\n          <InputPage\n            push={push}\n            setLoading={setLoading}\n            onComplete={handleOptimizationComplete}\n          />\n        );\n      case \"kitting\":\n        return (\n          <KittingPage\n            result={optimizationResult}\n            onKitClick={openKitDrawer}\n            onGoToInput={() => dispatch({ type: ACTIONS.SET_ACTIVE_NAV, payload: \"input\" })}\n            push={push}\n          />\n        );\n      case \"inventory\":\n        return (\n          <InventoryPage\n            onItemClick={openInventoryDrawer}\n            push={push}\n          />\n        );\n      case \"alerts\":\n        return (\n          <AlertsPage\n            onAlertClick={openAlertDrawer}\n            push={push}\n          />\n        );\n      case \"history\":\n        return (\n          <HistoryPage\n            onRunClick={openHistoryDrawer}\n            onRerun={(run) => {\n              push({ title: \"Loading Run\", msg: run.id }, \"info\");\n              openHistoryDrawer(run);\n            }}\n            push={push}\n          />\n        );\n      case \"settings\":\n        return <SettingsPage push={push} />;\n\n      // ── overview (default) ──\n      default:\n        return (\n          <OverviewPage\n            metrics={metrics}\n            spark={sparkCpu}\n            cpuData={cpuChart}\n            memData={memChart}\n            rpsData={rpsChart}\n            barData={barData}\n            logs={logs}\n            optimizationResult={optimizationResult}\n            onCardClick={openCardDrawer}\n            onLogClick={openLogDrawer}\n            onAlertClick={openAlertDrawer}\n            onServiceClick={openServiceDrawer}\n            onGoToInput={() => dispatch({ type: ACTIONS.SET_ACTIVE_NAV, payload: \"input\" })}\n            onRefresh={handleRefresh}\n            push={push}\n          />\n        );\n    }\n  };\n\n  return (\n    <div className=\"obs-root\">\n      {state.loading && <div className=\"progress-bar\" />}\n\n      <Topbar\n        onRefresh={handleRefresh}\n        onOpenCmd={openCmd}\n        sidebarCollapsed={state.sidebarCollapsed}\n      />\n\n      <div className=\"layout\">\n        <Sidebar metrics={metrics} onToggle={toggleSidebar} />\n\n        <main className=\"main\">\n          {/* Breadcrumb — same structure as original + run status badge */}\n          <div className=\"breadcrumb\">\n            <span>FORMWORK OS</span>\n            <span className=\"bc-sep\">›</span>\n            <span className=\"bc-current\">{state.activeNav.toUpperCase()}</span>\n            <span className=\"bc-sep\">›</span>\n            <span style={{\n              color: \"#4a5568\",\n              fontFamily: \"'JetBrains Mono',monospace\",\n              fontSize: 11,\n            }}>\n              {new Date().toLocaleTimeString(\"en-GB\")}\n            </span>\n\n            {/* Show active run badge when a result exists */}\n            {optimizationResult && (\n              <span style={{\n                marginLeft: \"auto\",\n                fontFamily: \"'JetBrains Mono',monospace\",\n                fontSize: 10,\n                background: \"rgba(63,185,80,0.1)\",\n                border: \"1px solid rgba(63,185,80,0.3)\",\n                color: \"#3FB950\",\n                padding: \"2px 10px\",\n                letterSpacing: \"0.06em\",\n              }}>\n                ✓ {optimizationResult.estimated_cost_savings_percent}% SAVINGS ACTIVE\n              </span>\n            )}\n          </div>\n\n          <div className=\"content\">{renderPage()}</div>\n        </main>\n      </div>\n\n      <Drawer\n        data={state.drawer.data}\n        chartData={cpuChart}\n        onAction={handleDrawerAction}\n      />\n      <CommandPalette onAction={(a) => a === \"refresh\" && handleRefresh()} />\n      <NotificationStack notifications={notifications} onDismiss={dismiss} />\n    </div>\n  );\n}\n\nexport default function App() {\n  return <AppProvider><InnerApp /></AppProvider>;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}