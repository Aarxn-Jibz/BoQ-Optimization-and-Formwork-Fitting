{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\JOEL DSILVA\\\\OneDrive\\\\Desktop\\\\Projects\\\\BoQ_Formwork_Fitting\\\\obsidian-core\\\\src\\\\pages\\\\InputPage.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$();\nimport React, { useState, useRef, useCallback } from \"react\";\nimport { DEFAULT_INPUT_ITEMS, EMPTY_ITEM, ELEMENT_PRESETS, validatePayload } from \"../data/constants\";\nimport { runOptimization } from \"../services/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst C = {\n  cyan: \"#00D4FF\",\n  green: \"#3FB950\",\n  red: \"#F85149\",\n  amber: \"#D29922\",\n  void: \"#0D1117\",\n  surface: \"#161B22\",\n  border: \"#21262D\",\n  text: \"#E6EDF3\",\n  muted: \"#7D8590\",\n  abyss: \"#080B12\"\n};\n\n/* â”€â”€ tiny helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */\nconst mono = {\n  fontFamily: \"'JetBrains Mono',monospace\"\n};\nconst Label = ({\n  children\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  style: {\n    ...mono,\n    fontSize: 10,\n    fontWeight: 600,\n    letterSpacing: \"0.1em\",\n    textTransform: \"uppercase\",\n    color: C.muted,\n    marginBottom: 4\n  },\n  children: children\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 14,\n  columnNumber: 3\n}, this);\n_c = Label;\nfunction FieldInput({\n  value,\n  onChange,\n  error,\n  type = \"text\",\n  placeholder,\n  style\n}) {\n  _s();\n  const [focused, setFocused] = useState(false);\n  return /*#__PURE__*/_jsxDEV(\"input\", {\n    type: type,\n    value: value,\n    onChange: onChange,\n    placeholder: placeholder,\n    onFocus: () => setFocused(true),\n    onBlur: () => setFocused(false),\n    style: {\n      width: \"100%\",\n      background: C.surface,\n      border: `1px solid ${error ? C.red : focused ? C.cyan : C.border}`,\n      color: C.text,\n      ...mono,\n      fontSize: 12,\n      padding: \"5px 8px\",\n      outline: \"none\",\n      boxShadow: focused ? `0 0 0 2px ${error ? \"rgba(248,81,73,0.15)\" : \"rgba(0,212,255,0.1)\"}` : \"none\",\n      transition: \"border-color 100ms, box-shadow 100ms\",\n      ...style\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 5\n  }, this);\n}\n\n/* â”€â”€ JSON Paste Modal â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */\n_s(FieldInput, \"rwqZf9cBjrH2zIMw/NeLpi+hjZQ=\");\n_c2 = FieldInput;\nfunction JsonModal({\n  onClose,\n  onApply\n}) {\n  _s2();\n  const [text, setText] = useState(\"\");\n  const [err, setErr] = useState(\"\");\n  const apply = () => {\n    try {\n      var _parsed$items;\n      const parsed = JSON.parse(text);\n      const items = (_parsed$items = parsed.items) !== null && _parsed$items !== void 0 ? _parsed$items : parsed;\n      if (!Array.isArray(items)) throw new Error(\"Expected { items: [...] } or an array\");\n      onApply(items);\n      onClose();\n    } catch (e) {\n      setErr(e.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: \"fixed\",\n      inset: 0,\n      background: \"rgba(8,11,18,0.88)\",\n      zIndex: 500,\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    },\n    onClick: onClose,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: C.surface,\n        border: `1px solid rgba(0,212,255,0.25)`,\n        width: 560,\n        padding: 24,\n        boxShadow: \"0 20px 60px rgba(0,0,0,0.6)\"\n      },\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          ...mono,\n          fontSize: 12,\n          fontWeight: 700,\n          color: C.text,\n          textTransform: \"uppercase\",\n          letterSpacing: \"0.1em\",\n          marginBottom: 12\n        },\n        children: \"PASTE JSON PAYLOAD\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          ...mono,\n          fontSize: 10,\n          color: C.muted,\n          marginBottom: 8\n        },\n        children: [\"Expected: \", \"{ \\\"items\\\": [{ element_id, length, width, quantity, start_date, end_date }] }\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        autoFocus: true,\n        value: text,\n        onChange: e => {\n          setText(e.target.value);\n          setErr(\"\");\n        },\n        placeholder: \"{ \\\"items\\\": [...] }\",\n        style: {\n          width: \"100%\",\n          height: 200,\n          background: C.abyss,\n          border: `1px solid ${C.border}`,\n          color: C.cyan,\n          ...mono,\n          fontSize: 11,\n          padding: 10,\n          outline: \"none\",\n          resize: \"vertical\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), err && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: C.red,\n          ...mono,\n          fontSize: 11,\n          marginTop: 6\n        },\n        children: [\"\\u26A0 \", err]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          gap: 10,\n          marginTop: 14\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: apply,\n          style: {\n            flex: 1,\n            background: C.cyan,\n            border: \"none\",\n            color: C.abyss,\n            ...mono,\n            fontSize: 11,\n            fontWeight: 700,\n            padding: \"8px 0\",\n            cursor: \"pointer\",\n            letterSpacing: \"0.08em\"\n          },\n          children: \"APPLY JSON\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          style: {\n            flex: 1,\n            background: \"none\",\n            border: `1px solid ${C.border}`,\n            color: C.muted,\n            ...mono,\n            fontSize: 11,\n            padding: \"8px 0\",\n            cursor: \"pointer\"\n          },\n          children: \"CANCEL\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n\n/* â”€â”€ Main InputPage â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */\n_s2(JsonModal, \"vD1M7/G0c0re6BkTFO8hBCrJA9c=\");\n_c3 = JsonModal;\nexport default function InputPage({\n  push,\n  setLoading,\n  onComplete\n}) {\n  _s3();\n  const [items, setItems] = useState(DEFAULT_INPUT_ITEMS.map(i => ({\n    ...i,\n    _id: Math.random()\n  })));\n  const [errors, setErrors] = useState([]);\n  const [running, setRunning] = useState(false);\n  const [showJson, setShowJson] = useState(false);\n  const fileRef = useRef();\n\n  /* â”€â”€ row ops â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */\n  const addRow = () => setItems(p => [...p, {\n    ...EMPTY_ITEM,\n    _id: Math.random()\n  }]);\n  const removeRow = idx => setItems(p => p.filter((_, i) => i !== idx));\n  const updateRow = (idx, field, val) => {\n    setItems(p => p.map((r, i) => i === idx ? {\n      ...r,\n      [field]: val\n    } : r));\n    setErrors(p => p.map((e, i) => i === idx ? {\n      ...e,\n      [field]: undefined\n    } : e));\n  };\n  const applyPreset = (idx, preset) => {\n    setItems(p => p.map((r, i) => i === idx ? {\n      ...r,\n      length: preset.length,\n      width: preset.width\n    } : r));\n  };\n  const clearAll = () => {\n    setItems([{\n      ...EMPTY_ITEM,\n      _id: Math.random()\n    }]);\n    setErrors([]);\n  };\n\n  /* â”€â”€ CSV upload â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */\n  const handleCSV = e => {\n    const file = e.target.files[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onload = ev => {\n      const lines = ev.target.result.trim().split(\"\\n\");\n      const headers = lines[0].split(\",\").map(h => h.trim());\n      const parsed = lines.slice(1).map(line => {\n        const vals = line.split(\",\");\n        const obj = {};\n        headers.forEach((h, i) => {\n          var _vals$i$trim, _vals$i;\n          obj[h] = (_vals$i$trim = (_vals$i = vals[i]) === null || _vals$i === void 0 ? void 0 : _vals$i.trim()) !== null && _vals$i$trim !== void 0 ? _vals$i$trim : \"\";\n        });\n        return {\n          ...obj,\n          _id: Math.random()\n        };\n      });\n      setItems(parsed);\n      push({\n        title: \"CSV Loaded\",\n        msg: `${parsed.length} rows imported`\n      }, \"ok\");\n    };\n    reader.readAsText(file);\n    e.target.value = \"\";\n  };\n\n  /* â”€â”€ submit â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */\n  const handleRun = async () => {\n    const clean = items.map(({\n      _id,\n      ...rest\n    }) => ({\n      ...rest,\n      length: Number(rest.length),\n      width: Number(rest.width),\n      quantity: Number(rest.quantity)\n    }));\n    const errs = validatePayload(clean);\n    const hasErrors = errs.some(e => Object.keys(e).length > 0);\n    if (hasErrors) {\n      setErrors(errs);\n      push({\n        title: \"Validation Failed\",\n        msg: \"Fix errors before running\"\n      }, \"err\");\n      return;\n    }\n    setRunning(true);\n    setLoading(true);\n    push({\n      title: \"Running Optimization\",\n      msg: \"Sending to ML engineâ€¦\"\n    }, \"info\");\n    try {\n      const result = await runOptimization(clean);\n      onComplete(result);\n    } catch (err) {\n      push({\n        title: \"API Error\",\n        msg: err.message\n      }, \"err\");\n    } finally {\n      setRunning(false);\n      setLoading(false);\n    }\n  };\n  const cols = [\"ELEMENT ID\", \"LENGTH (m)\", \"WIDTH (m)\", \"QTY\", \"START DATE\", \"END DATE\", \"PRESET\", \"\"];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      gap: 16\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: C.void,\n        border: `1px solid ${C.border}`,\n        padding: \"14px 20px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        gap: 12,\n        flexWrap: \"wrap\",\n        position: \"relative\",\n        overflow: \"hidden\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: \"absolute\",\n          top: 0,\n          left: 0,\n          right: 0,\n          height: 1,\n          background: `linear-gradient(90deg, ${C.cyan} 0%, transparent 60%)`,\n          opacity: 0.5\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            ...mono,\n            fontSize: 13,\n            fontWeight: 700,\n            color: C.text,\n            letterSpacing: \"0.06em\"\n          },\n          children: \"FORMWORK ELEMENT INPUT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            ...mono,\n            fontSize: 10,\n            color: C.muted,\n            marginTop: 2\n          },\n          children: \"Define elements \\u2192 Run optimization \\u2192 Get kitting plan & BoQ\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginLeft: \"auto\",\n          display: \"flex\",\n          gap: 8,\n          flexWrap: \"wrap\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(GhostBtn, {\n          onClick: () => setShowJson(true),\n          children: \"\\uD83D\\uDCCB PASTE JSON\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(GhostBtn, {\n          onClick: () => {\n            var _fileRef$current;\n            return (_fileRef$current = fileRef.current) === null || _fileRef$current === void 0 ? void 0 : _fileRef$current.click();\n          },\n          children: \"\\uD83D\\uDCC1 UPLOAD CSV\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: fileRef,\n          type: \"file\",\n          accept: \".csv\",\n          style: {\n            display: \"none\"\n          },\n          onChange: handleCSV\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(GhostBtn, {\n          onClick: addRow,\n          children: \"+ ADD ROW\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(GhostBtn, {\n          onClick: clearAll,\n          danger: true,\n          children: \"CLEAR ALL\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: C.void,\n        border: `1px solid ${C.border}`,\n        overflow: \"hidden\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          overflowX: \"auto\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          style: {\n            width: \"100%\",\n            borderCollapse: \"collapse\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              style: {\n                background: \"rgba(0,212,255,0.03)\",\n                borderBottom: `1px solid ${C.border}`\n              },\n              children: cols.map(c => /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  ...mono,\n                  fontSize: 10,\n                  fontWeight: 600,\n                  letterSpacing: \"0.1em\",\n                  color: C.muted,\n                  padding: \"10px 12px\",\n                  textAlign: \"left\",\n                  whiteSpace: \"nowrap\"\n                },\n                children: c\n              }, c, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: items.map((item, idx) => /*#__PURE__*/_jsxDEV(TableRow, {\n              item: item,\n              idx: idx,\n              errors: errors[idx] || {},\n              onChange: updateRow,\n              onRemove: removeRow,\n              onPreset: applyPreset\n            }, item._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: \"10px 12px\",\n          borderTop: `1px solid ${C.border}`,\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: 10\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: addRow,\n          style: {\n            ...mono,\n            fontSize: 10,\n            color: C.cyan,\n            background: \"none\",\n            border: `1px dashed rgba(0,212,255,0.3)`,\n            padding: \"4px 14px\",\n            cursor: \"pointer\",\n            letterSpacing: \"0.08em\"\n          },\n          children: \"+ ADD ELEMENT ROW\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            ...mono,\n            fontSize: 10,\n            color: C.muted\n          },\n          children: [items.length, \" element\", items.length !== 1 ? \"s\" : \"\", \" \\xB7\", \" \", items.reduce((s, i) => s + (Number(i.quantity) || 0), 0), \" total units\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(JsonPreview, {\n      items: items\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        alignItems: \"center\",\n        gap: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleRun,\n        disabled: running,\n        style: {\n          background: running ? \"rgba(0,212,255,0.4)\" : C.cyan,\n          border: \"none\",\n          color: C.abyss,\n          ...mono,\n          fontSize: 13,\n          fontWeight: 700,\n          padding: \"12px 36px\",\n          cursor: running ? \"not-allowed\" : \"pointer\",\n          letterSpacing: \"0.08em\",\n          transition: \"all 120ms\",\n          boxShadow: running ? \"none\" : `0 0 20px rgba(0,212,255,0.3)`\n        },\n        children: running ? \"âŸ³ RUNNING ML OPTIMIZATIONâ€¦\" : \"â–¶ RUN OPTIMIZATION\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this), running && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          ...mono,\n          fontSize: 11,\n          color: C.cyan\n        },\n        children: [\"Sending \", items.length, \" elements to Go engine\\u2026\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginLeft: \"auto\",\n          ...mono,\n          fontSize: 10,\n          color: C.muted\n        },\n        children: \"POST \\u2192 localhost:3000/api/optimize-kitting\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }, this), showJson && /*#__PURE__*/_jsxDEV(JsonModal, {\n      onClose: () => setShowJson(false),\n      onApply: parsed => {\n        setItems(parsed.map(i => ({\n          ...i,\n          _id: Math.random()\n        })));\n        push({\n          title: \"JSON Applied\",\n          msg: `${parsed.length} elements loaded`\n        }, \"ok\");\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 5\n  }, this);\n}\n\n/* â”€â”€ TableRow â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */\n_s3(InputPage, \"AIhCdx/OCtcDgKz59spOdtJy3G0=\");\n_c4 = InputPage;\nfunction TableRow({\n  item,\n  idx,\n  errors,\n  onChange,\n  onRemove,\n  onPreset\n}) {\n  _s4();\n  const [hovered, setHovered] = useState(false);\n  return /*#__PURE__*/_jsxDEV(\"tr\", {\n    onMouseEnter: () => setHovered(true),\n    onMouseLeave: () => setHovered(false),\n    style: {\n      background: hovered ? \"rgba(0,212,255,0.025)\" : idx % 2 === 0 ? \"transparent\" : \"rgba(8,11,18,0.3)\",\n      borderBottom: `1px solid ${C.border}`,\n      transition: \"background 80ms\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n      style: {\n        padding: \"6px 12px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(FieldInput, {\n        value: item.element_id,\n        placeholder: \"Column-A1\",\n        error: errors.element_id,\n        onChange: e => onChange(idx, \"element_id\", e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this), errors.element_id && /*#__PURE__*/_jsxDEV(ErrMsg, {\n        children: errors.element_id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 31\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      style: {\n        padding: \"6px 12px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(FieldInput, {\n        value: item.length,\n        type: \"number\",\n        placeholder: \"2.4\",\n        error: errors.length,\n        style: {\n          width: 80\n        },\n        onChange: e => onChange(idx, \"length\", e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this), errors.length && /*#__PURE__*/_jsxDEV(ErrMsg, {\n        children: errors.length\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 27\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      style: {\n        padding: \"6px 12px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(FieldInput, {\n        value: item.width,\n        type: \"number\",\n        placeholder: \"1.2\",\n        error: errors.width,\n        style: {\n          width: 80\n        },\n        onChange: e => onChange(idx, \"width\", e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 9\n      }, this), errors.width && /*#__PURE__*/_jsxDEV(ErrMsg, {\n        children: errors.width\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 26\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      style: {\n        padding: \"6px 12px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(FieldInput, {\n        value: item.quantity,\n        type: \"number\",\n        placeholder: \"10\",\n        error: errors.quantity,\n        style: {\n          width: 70\n        },\n        onChange: e => onChange(idx, \"quantity\", e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 9\n      }, this), errors.quantity && /*#__PURE__*/_jsxDEV(ErrMsg, {\n        children: errors.quantity\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 29\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      style: {\n        padding: \"6px 12px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(FieldInput, {\n        value: item.start_date,\n        type: \"date\",\n        error: errors.start_date,\n        onChange: e => onChange(idx, \"start_date\", e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 9\n      }, this), errors.start_date && /*#__PURE__*/_jsxDEV(ErrMsg, {\n        children: errors.start_date\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 31\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      style: {\n        padding: \"6px 12px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(FieldInput, {\n        value: item.end_date,\n        type: \"date\",\n        error: errors.end_date,\n        onChange: e => onChange(idx, \"end_date\", e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, this), errors.end_date && /*#__PURE__*/_jsxDEV(ErrMsg, {\n        children: errors.end_date\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 29\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      style: {\n        padding: \"6px 12px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"select\", {\n        onChange: e => {\n          const p = ELEMENT_PRESETS[e.target.value];\n          if (p) onPreset(idx, p);\n          e.target.value = \"\";\n        },\n        defaultValue: \"\",\n        style: {\n          background: C.surface,\n          border: `1px solid ${C.border}`,\n          color: C.muted,\n          ...mono,\n          fontSize: 10,\n          padding: \"5px 6px\",\n          cursor: \"pointer\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          disabled: true,\n          children: \"Quick fill\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this), ELEMENT_PRESETS.map((p, i) => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: i,\n          children: p.label\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 42\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      style: {\n        padding: \"6px 12px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onRemove(idx),\n        style: {\n          background: \"none\",\n          border: `1px solid rgba(248,81,73,0.3)`,\n          color: C.red,\n          cursor: \"pointer\",\n          padding: \"4px 8px\",\n          ...mono,\n          fontSize: 11\n        },\n        children: \"\\u2715\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 267,\n    columnNumber: 5\n  }, this);\n}\n_s4(TableRow, \"V8YbV+gTZxGliGj1g0fftBlvsq4=\");\n_c5 = TableRow;\nfunction ErrMsg({\n  children\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      color: C.red,\n      fontFamily: \"'JetBrains Mono',monospace\",\n      fontSize: 9,\n      marginTop: 2\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 329,\n    columnNumber: 10\n  }, this);\n}\n_c6 = ErrMsg;\nfunction GhostBtn({\n  onClick,\n  danger,\n  children\n}) {\n  _s5();\n  const [h, setH] = useState(false);\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: onClick,\n    onMouseEnter: () => setH(true),\n    onMouseLeave: () => setH(false),\n    style: {\n      background: \"none\",\n      border: `1px solid ${h ? danger ? C.red : C.cyan : C.border}`,\n      color: h ? danger ? C.red : C.cyan : C.muted,\n      ...mono,\n      fontSize: 10,\n      fontWeight: 600,\n      padding: \"5px 12px\",\n      cursor: \"pointer\",\n      letterSpacing: \"0.06em\",\n      transition: \"all 80ms\"\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 335,\n    columnNumber: 5\n  }, this);\n}\n_s5(GhostBtn, \"MgRBEID1dkCpSrRzbvkK4oHEAK0=\");\n_c7 = GhostBtn;\nfunction JsonPreview({\n  items\n}) {\n  _s6();\n  const [open, setOpen] = useState(false);\n  const clean = items.map(({\n    _id,\n    ...r\n  }) => ({\n    ...r,\n    length: Number(r.length) || 0,\n    width: Number(r.width) || 0,\n    quantity: Number(r.quantity) || 0\n  }));\n  const json = JSON.stringify({\n    items: clean\n  }, null, 2);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      background: C.abyss,\n      border: `1px solid ${C.border}`\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        padding: \"8px 14px\",\n        borderBottom: open ? `1px solid ${C.border}` : \"none\",\n        cursor: \"pointer\"\n      },\n      onClick: () => setOpen(o => !o),\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          ...mono,\n          fontSize: 10,\n          color: C.muted,\n          textTransform: \"uppercase\",\n          letterSpacing: \"0.1em\"\n        },\n        children: [open ? \"â–¼\" : \"â–¶\", \" JSON PAYLOAD PREVIEW\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          ...mono,\n          fontSize: 10,\n          color: C.cyan\n        },\n        children: [items.length, \" items \\xB7 \", items.reduce((s, i) => s + (Number(i.quantity) || 0), 0), \" units\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 7\n    }, this), open && /*#__PURE__*/_jsxDEV(\"pre\", {\n      style: {\n        ...mono,\n        fontSize: 11,\n        color: C.cyan,\n        padding: 14,\n        overflowX: \"auto\",\n        maxHeight: 260,\n        lineHeight: 1.6,\n        margin: 0\n      },\n      children: json\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 354,\n    columnNumber: 5\n  }, this);\n}\n_s6(JsonPreview, \"xG1TONbKtDWtdOTrXaTAsNhPg/Q=\");\n_c8 = JsonPreview;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n$RefreshReg$(_c, \"Label\");\n$RefreshReg$(_c2, \"FieldInput\");\n$RefreshReg$(_c3, \"JsonModal\");\n$RefreshReg$(_c4, \"InputPage\");\n$RefreshReg$(_c5, \"TableRow\");\n$RefreshReg$(_c6, \"ErrMsg\");\n$RefreshReg$(_c7, \"GhostBtn\");\n$RefreshReg$(_c8, \"JsonPreview\");","map":{"version":3,"names":["React","useState","useRef","useCallback","DEFAULT_INPUT_ITEMS","EMPTY_ITEM","ELEMENT_PRESETS","validatePayload","runOptimization","jsxDEV","_jsxDEV","C","cyan","green","red","amber","void","surface","border","text","muted","abyss","mono","fontFamily","Label","children","style","fontSize","fontWeight","letterSpacing","textTransform","color","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","_c","FieldInput","value","onChange","error","type","placeholder","_s","focused","setFocused","onFocus","onBlur","width","background","padding","outline","boxShadow","transition","_c2","JsonModal","onClose","onApply","_s2","setText","err","setErr","apply","_parsed$items","parsed","JSON","parse","items","Array","isArray","Error","e","message","position","inset","zIndex","display","alignItems","justifyContent","onClick","stopPropagation","autoFocus","target","height","resize","marginTop","gap","flex","cursor","_c3","InputPage","push","setLoading","onComplete","_s3","setItems","map","i","_id","Math","random","errors","setErrors","running","setRunning","showJson","setShowJson","fileRef","addRow","p","removeRow","idx","filter","_","updateRow","field","val","r","undefined","applyPreset","preset","length","clearAll","handleCSV","file","files","reader","FileReader","onload","ev","lines","result","trim","split","headers","h","slice","line","vals","obj","forEach","_vals$i$trim","_vals$i","title","msg","readAsText","handleRun","clean","rest","Number","quantity","errs","hasErrors","some","Object","keys","cols","flexDirection","flexWrap","overflow","top","left","right","opacity","marginLeft","GhostBtn","_fileRef$current","current","click","ref","accept","danger","overflowX","borderCollapse","borderBottom","c","textAlign","whiteSpace","item","TableRow","onRemove","onPreset","borderTop","reduce","s","JsonPreview","disabled","_c4","_s4","hovered","setHovered","onMouseEnter","onMouseLeave","element_id","ErrMsg","start_date","end_date","defaultValue","label","_c5","_c6","_s5","setH","_c7","_s6","open","setOpen","json","stringify","o","maxHeight","lineHeight","margin","_c8","$RefreshReg$"],"sources":["C:/Users/JOEL DSILVA/OneDrive/Desktop/Projects/BoQ_Formwork_Fitting/obsidian-core/src/pages/InputPage.jsx"],"sourcesContent":["import React, { useState, useRef, useCallback } from \"react\";\nimport { DEFAULT_INPUT_ITEMS, EMPTY_ITEM, ELEMENT_PRESETS, validatePayload } from \"../data/constants\";\nimport { runOptimization } from \"../services/api\";\n\nconst C = {\n  cyan: \"#00D4FF\", green: \"#3FB950\", red: \"#F85149\", amber: \"#D29922\",\n  void: \"#0D1117\", surface: \"#161B22\", border: \"#21262D\",\n  text: \"#E6EDF3\", muted: \"#7D8590\", abyss: \"#080B12\",\n};\n\n/* â”€â”€ tiny helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */\nconst mono = { fontFamily: \"'JetBrains Mono',monospace\" };\nconst Label = ({ children }) => (\n  <div style={{ ...mono, fontSize: 10, fontWeight: 600, letterSpacing: \"0.1em\",\n    textTransform: \"uppercase\", color: C.muted, marginBottom: 4 }}>\n    {children}\n  </div>\n);\n\nfunction FieldInput({ value, onChange, error, type = \"text\", placeholder, style }) {\n  const [focused, setFocused] = useState(false);\n  return (\n    <input\n      type={type} value={value} onChange={onChange} placeholder={placeholder}\n      onFocus={() => setFocused(true)} onBlur={() => setFocused(false)}\n      style={{\n        width: \"100%\", background: C.surface,\n        border: `1px solid ${error ? C.red : focused ? C.cyan : C.border}`,\n        color: C.text, ...mono, fontSize: 12, padding: \"5px 8px\", outline: \"none\",\n        boxShadow: focused ? `0 0 0 2px ${error ? \"rgba(248,81,73,0.15)\" : \"rgba(0,212,255,0.1)\"}` : \"none\",\n        transition: \"border-color 100ms, box-shadow 100ms\", ...style,\n      }}\n    />\n  );\n}\n\n/* â”€â”€ JSON Paste Modal â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */\nfunction JsonModal({ onClose, onApply }) {\n  const [text, setText] = useState(\"\");\n  const [err, setErr] = useState(\"\");\n  const apply = () => {\n    try {\n      const parsed = JSON.parse(text);\n      const items = parsed.items ?? parsed;\n      if (!Array.isArray(items)) throw new Error(\"Expected { items: [...] } or an array\");\n      onApply(items);\n      onClose();\n    } catch (e) { setErr(e.message); }\n  };\n  return (\n    <div style={{ position: \"fixed\", inset: 0, background: \"rgba(8,11,18,0.88)\",\n      zIndex: 500, display: \"flex\", alignItems: \"center\", justifyContent: \"center\" }}\n      onClick={onClose}>\n      <div style={{ background: C.surface, border: `1px solid rgba(0,212,255,0.25)`,\n        width: 560, padding: 24, boxShadow: \"0 20px 60px rgba(0,0,0,0.6)\" }}\n        onClick={e => e.stopPropagation()}>\n        <div style={{ ...mono, fontSize: 12, fontWeight: 700, color: C.text,\n          textTransform: \"uppercase\", letterSpacing: \"0.1em\", marginBottom: 12 }}>\n          PASTE JSON PAYLOAD\n        </div>\n        <div style={{ ...mono, fontSize: 10, color: C.muted, marginBottom: 8 }}>\n          Expected: {\"{ \\\"items\\\": [{ element_id, length, width, quantity, start_date, end_date }] }\"}\n        </div>\n        <textarea\n          autoFocus value={text} onChange={e => { setText(e.target.value); setErr(\"\"); }}\n          placeholder='{ \"items\": [...] }'\n          style={{ width: \"100%\", height: 200, background: C.abyss, border: `1px solid ${C.border}`,\n            color: C.cyan, ...mono, fontSize: 11, padding: 10, outline: \"none\", resize: \"vertical\" }}\n        />\n        {err && <div style={{ color: C.red, ...mono, fontSize: 11, marginTop: 6 }}>âš  {err}</div>}\n        <div style={{ display: \"flex\", gap: 10, marginTop: 14 }}>\n          <button onClick={apply} style={{ flex: 1, background: C.cyan, border: \"none\",\n            color: C.abyss, ...mono, fontSize: 11, fontWeight: 700, padding: \"8px 0\",\n            cursor: \"pointer\", letterSpacing: \"0.08em\" }}>\n            APPLY JSON\n          </button>\n          <button onClick={onClose} style={{ flex: 1, background: \"none\",\n            border: `1px solid ${C.border}`, color: C.muted, ...mono, fontSize: 11,\n            padding: \"8px 0\", cursor: \"pointer\" }}>\n            CANCEL\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n/* â”€â”€ Main InputPage â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */\nexport default function InputPage({ push, setLoading, onComplete }) {\n  const [items, setItems]       = useState(DEFAULT_INPUT_ITEMS.map(i => ({ ...i, _id: Math.random() })));\n  const [errors, setErrors]     = useState([]);\n  const [running, setRunning]   = useState(false);\n  const [showJson, setShowJson] = useState(false);\n  const fileRef = useRef();\n\n  /* â”€â”€ row ops â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */\n  const addRow = () => setItems(p => [...p, { ...EMPTY_ITEM, _id: Math.random() }]);\n  const removeRow = (idx) => setItems(p => p.filter((_, i) => i !== idx));\n  const updateRow = (idx, field, val) => {\n    setItems(p => p.map((r, i) => i === idx ? { ...r, [field]: val } : r));\n    setErrors(p => p.map((e, i) => i === idx ? { ...e, [field]: undefined } : e));\n  };\n  const applyPreset = (idx, preset) => {\n    setItems(p => p.map((r, i) => i === idx ? { ...r, length: preset.length, width: preset.width } : r));\n  };\n  const clearAll = () => { setItems([{ ...EMPTY_ITEM, _id: Math.random() }]); setErrors([]); };\n\n  /* â”€â”€ CSV upload â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */\n  const handleCSV = (e) => {\n    const file = e.target.files[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onload = (ev) => {\n      const lines = ev.target.result.trim().split(\"\\n\");\n      const headers = lines[0].split(\",\").map(h => h.trim());\n      const parsed = lines.slice(1).map(line => {\n        const vals = line.split(\",\");\n        const obj = {};\n        headers.forEach((h, i) => { obj[h] = vals[i]?.trim() ?? \"\"; });\n        return { ...obj, _id: Math.random() };\n      });\n      setItems(parsed);\n      push({ title: \"CSV Loaded\", msg: `${parsed.length} rows imported` }, \"ok\");\n    };\n    reader.readAsText(file);\n    e.target.value = \"\";\n  };\n\n  /* â”€â”€ submit â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */\n  const handleRun = async () => {\n    const clean = items.map(({ _id, ...rest }) => ({\n      ...rest,\n      length:   Number(rest.length),\n      width:    Number(rest.width),\n      quantity: Number(rest.quantity),\n    }));\n    const errs = validatePayload(clean);\n    const hasErrors = errs.some(e => Object.keys(e).length > 0);\n    if (hasErrors) { setErrors(errs); push({ title: \"Validation Failed\", msg: \"Fix errors before running\" }, \"err\"); return; }\n\n    setRunning(true); setLoading(true);\n    push({ title: \"Running Optimization\", msg: \"Sending to ML engineâ€¦\" }, \"info\");\n    try {\n      const result = await runOptimization(clean);\n      onComplete(result);\n    } catch (err) {\n      push({ title: \"API Error\", msg: err.message }, \"err\");\n    } finally {\n      setRunning(false); setLoading(false);\n    }\n  };\n\n  const cols = [\"ELEMENT ID\", \"LENGTH (m)\", \"WIDTH (m)\", \"QTY\", \"START DATE\", \"END DATE\", \"PRESET\", \"\"];\n\n  return (\n    <div style={{ display: \"flex\", flexDirection: \"column\", gap: 16 }}>\n\n      {/* â”€â”€ Header bar â”€â”€ */}\n      <div style={{ background: C.void, border: `1px solid ${C.border}`, padding: \"14px 20px\",\n        display: \"flex\", alignItems: \"center\", gap: 12, flexWrap: \"wrap\", position: \"relative\", overflow: \"hidden\" }}>\n        <div style={{ position: \"absolute\", top: 0, left: 0, right: 0, height: 1,\n          background: `linear-gradient(90deg, ${C.cyan} 0%, transparent 60%)`, opacity: 0.5 }} />\n        <div>\n          <div style={{ ...mono, fontSize: 13, fontWeight: 700, color: C.text, letterSpacing: \"0.06em\" }}>\n            FORMWORK ELEMENT INPUT\n          </div>\n          <div style={{ ...mono, fontSize: 10, color: C.muted, marginTop: 2 }}>\n            Define elements â†’ Run optimization â†’ Get kitting plan & BoQ\n          </div>\n        </div>\n        <div style={{ marginLeft: \"auto\", display: \"flex\", gap: 8, flexWrap: \"wrap\" }}>\n          <GhostBtn onClick={() => setShowJson(true)}>ğŸ“‹ PASTE JSON</GhostBtn>\n          <GhostBtn onClick={() => fileRef.current?.click()}>ğŸ“ UPLOAD CSV</GhostBtn>\n          <input ref={fileRef} type=\"file\" accept=\".csv\" style={{ display: \"none\" }} onChange={handleCSV} />\n          <GhostBtn onClick={addRow}>+ ADD ROW</GhostBtn>\n          <GhostBtn onClick={clearAll} danger>CLEAR ALL</GhostBtn>\n        </div>\n      </div>\n\n      {/* â”€â”€ Table â”€â”€ */}\n      <div style={{ background: C.void, border: `1px solid ${C.border}`, overflow: \"hidden\" }}>\n        <div style={{ overflowX: \"auto\" }}>\n          <table style={{ width: \"100%\", borderCollapse: \"collapse\" }}>\n            <thead>\n              <tr style={{ background: \"rgba(0,212,255,0.03)\", borderBottom: `1px solid ${C.border}` }}>\n                {cols.map(c => (\n                  <th key={c} style={{ ...mono, fontSize: 10, fontWeight: 600, letterSpacing: \"0.1em\",\n                    color: C.muted, padding: \"10px 12px\", textAlign: \"left\", whiteSpace: \"nowrap\" }}>\n                    {c}\n                  </th>\n                ))}\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, idx) => (\n                <TableRow\n                  key={item._id}\n                  item={item}\n                  idx={idx}\n                  errors={errors[idx] || {}}\n                  onChange={updateRow}\n                  onRemove={removeRow}\n                  onPreset={applyPreset}\n                />\n              ))}\n            </tbody>\n          </table>\n        </div>\n\n        {/* Add row footer */}\n        <div style={{ padding: \"10px 12px\", borderTop: `1px solid ${C.border}`,\n          display: \"flex\", alignItems: \"center\", gap: 10 }}>\n          <button onClick={addRow} style={{ ...mono, fontSize: 10, color: C.cyan,\n            background: \"none\", border: `1px dashed rgba(0,212,255,0.3)`, padding: \"4px 14px\",\n            cursor: \"pointer\", letterSpacing: \"0.08em\" }}>\n            + ADD ELEMENT ROW\n          </button>\n          <span style={{ ...mono, fontSize: 10, color: C.muted }}>\n            {items.length} element{items.length !== 1 ? \"s\" : \"\"} Â·{\" \"}\n            {items.reduce((s, i) => s + (Number(i.quantity) || 0), 0)} total units\n          </span>\n        </div>\n      </div>\n\n      {/* â”€â”€ JSON Preview â”€â”€ */}\n      <JsonPreview items={items} />\n\n      {/* â”€â”€ Run button â”€â”€ */}\n      <div style={{ display: \"flex\", alignItems: \"center\", gap: 12 }}>\n        <button\n          onClick={handleRun} disabled={running}\n          style={{ background: running ? \"rgba(0,212,255,0.4)\" : C.cyan,\n            border: \"none\", color: C.abyss, ...mono, fontSize: 13, fontWeight: 700,\n            padding: \"12px 36px\", cursor: running ? \"not-allowed\" : \"pointer\",\n            letterSpacing: \"0.08em\", transition: \"all 120ms\",\n            boxShadow: running ? \"none\" : `0 0 20px rgba(0,212,255,0.3)`,\n          }}>\n          {running ? \"âŸ³ RUNNING ML OPTIMIZATIONâ€¦\" : \"â–¶ RUN OPTIMIZATION\"}\n        </button>\n        {running && (\n          <div style={{ ...mono, fontSize: 11, color: C.cyan }}>\n            Sending {items.length} elements to Go engineâ€¦\n          </div>\n        )}\n        <div style={{ marginLeft: \"auto\", ...mono, fontSize: 10, color: C.muted }}>\n          POST â†’ localhost:3000/api/optimize-kitting\n        </div>\n      </div>\n\n      {showJson && (\n        <JsonModal\n          onClose={() => setShowJson(false)}\n          onApply={(parsed) => {\n            setItems(parsed.map(i => ({ ...i, _id: Math.random() })));\n            push({ title: \"JSON Applied\", msg: `${parsed.length} elements loaded` }, \"ok\");\n          }}\n        />\n      )}\n    </div>\n  );\n}\n\n/* â”€â”€ TableRow â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */\nfunction TableRow({ item, idx, errors, onChange, onRemove, onPreset }) {\n  const [hovered, setHovered] = useState(false);\n  return (\n    <tr\n      onMouseEnter={() => setHovered(true)}\n      onMouseLeave={() => setHovered(false)}\n      style={{ background: hovered ? \"rgba(0,212,255,0.025)\" : idx % 2 === 0 ? \"transparent\" : \"rgba(8,11,18,0.3)\",\n        borderBottom: `1px solid ${C.border}`, transition: \"background 80ms\" }}>\n      <td style={{ padding: \"6px 12px\" }}>\n        <FieldInput value={item.element_id} placeholder=\"Column-A1\"\n          error={errors.element_id}\n          onChange={e => onChange(idx, \"element_id\", e.target.value)} />\n        {errors.element_id && <ErrMsg>{errors.element_id}</ErrMsg>}\n      </td>\n      <td style={{ padding: \"6px 12px\" }}>\n        <FieldInput value={item.length} type=\"number\" placeholder=\"2.4\"\n          error={errors.length} style={{ width: 80 }}\n          onChange={e => onChange(idx, \"length\", e.target.value)} />\n        {errors.length && <ErrMsg>{errors.length}</ErrMsg>}\n      </td>\n      <td style={{ padding: \"6px 12px\" }}>\n        <FieldInput value={item.width} type=\"number\" placeholder=\"1.2\"\n          error={errors.width} style={{ width: 80 }}\n          onChange={e => onChange(idx, \"width\", e.target.value)} />\n        {errors.width && <ErrMsg>{errors.width}</ErrMsg>}\n      </td>\n      <td style={{ padding: \"6px 12px\" }}>\n        <FieldInput value={item.quantity} type=\"number\" placeholder=\"10\"\n          error={errors.quantity} style={{ width: 70 }}\n          onChange={e => onChange(idx, \"quantity\", e.target.value)} />\n        {errors.quantity && <ErrMsg>{errors.quantity}</ErrMsg>}\n      </td>\n      <td style={{ padding: \"6px 12px\" }}>\n        <FieldInput value={item.start_date} type=\"date\"\n          error={errors.start_date}\n          onChange={e => onChange(idx, \"start_date\", e.target.value)} />\n        {errors.start_date && <ErrMsg>{errors.start_date}</ErrMsg>}\n      </td>\n      <td style={{ padding: \"6px 12px\" }}>\n        <FieldInput value={item.end_date} type=\"date\"\n          error={errors.end_date}\n          onChange={e => onChange(idx, \"end_date\", e.target.value)} />\n        {errors.end_date && <ErrMsg>{errors.end_date}</ErrMsg>}\n      </td>\n      <td style={{ padding: \"6px 12px\" }}>\n        <select onChange={e => { const p = ELEMENT_PRESETS[e.target.value]; if (p) onPreset(idx, p); e.target.value = \"\"; }}\n          defaultValue=\"\"\n          style={{ background: C.surface, border: `1px solid ${C.border}`,\n            color: C.muted, ...mono, fontSize: 10, padding: \"5px 6px\", cursor: \"pointer\" }}>\n          <option value=\"\" disabled>Quick fill</option>\n          {ELEMENT_PRESETS.map((p, i) => <option key={i} value={i}>{p.label}</option>)}\n        </select>\n      </td>\n      <td style={{ padding: \"6px 12px\" }}>\n        <button onClick={() => onRemove(idx)}\n          style={{ background: \"none\", border: `1px solid rgba(248,81,73,0.3)`,\n            color: C.red, cursor: \"pointer\", padding: \"4px 8px\", ...mono, fontSize: 11 }}>\n          âœ•\n        </button>\n      </td>\n    </tr>\n  );\n}\n\nfunction ErrMsg({ children }) {\n  return <div style={{ color: C.red, fontFamily: \"'JetBrains Mono',monospace\", fontSize: 9, marginTop: 2 }}>{children}</div>;\n}\n\nfunction GhostBtn({ onClick, danger, children }) {\n  const [h, setH] = useState(false);\n  return (\n    <button onClick={onClick}\n      onMouseEnter={() => setH(true)} onMouseLeave={() => setH(false)}\n      style={{ background: \"none\",\n        border: `1px solid ${h ? (danger ? C.red : C.cyan) : C.border}`,\n        color: h ? (danger ? C.red : C.cyan) : C.muted,\n        ...mono, fontSize: 10, fontWeight: 600, padding: \"5px 12px\",\n        cursor: \"pointer\", letterSpacing: \"0.06em\", transition: \"all 80ms\" }}>\n      {children}\n    </button>\n  );\n}\n\nfunction JsonPreview({ items }) {\n  const [open, setOpen] = useState(false);\n  const clean = items.map(({ _id, ...r }) => ({\n    ...r, length: Number(r.length) || 0, width: Number(r.width) || 0, quantity: Number(r.quantity) || 0,\n  }));\n  const json = JSON.stringify({ items: clean }, null, 2);\n  return (\n    <div style={{ background: C.abyss, border: `1px solid ${C.border}` }}>\n      <div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\",\n        padding: \"8px 14px\", borderBottom: open ? `1px solid ${C.border}` : \"none\", cursor: \"pointer\" }}\n        onClick={() => setOpen(o => !o)}>\n        <span style={{ ...mono, fontSize: 10, color: C.muted, textTransform: \"uppercase\", letterSpacing: \"0.1em\" }}>\n          {open ? \"â–¼\" : \"â–¶\"} JSON PAYLOAD PREVIEW\n        </span>\n        <span style={{ ...mono, fontSize: 10, color: C.cyan }}>\n          {items.length} items Â· {items.reduce((s, i) => s + (Number(i.quantity) || 0), 0)} units\n        </span>\n      </div>\n      {open && (\n        <pre style={{ ...mono, fontSize: 11, color: C.cyan, padding: 14,\n          overflowX: \"auto\", maxHeight: 260, lineHeight: 1.6, margin: 0 }}>\n          {json}\n        </pre>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}