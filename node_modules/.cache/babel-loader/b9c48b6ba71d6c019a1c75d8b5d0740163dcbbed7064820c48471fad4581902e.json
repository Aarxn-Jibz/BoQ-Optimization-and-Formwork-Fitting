{"ast":null,"code":"import { LOG_ENTRIES } from \"../constants/config\";\n\n/** Generate time-series chart points */\nexport const generateChartData = (points = 20, base = 50, variance = 20) => Array.from({\n  length: points\n}, (_, i) => {\n  const h = String(12 + Math.floor(i / 4)).padStart(2, \"0\");\n  const m = String(i % 4 * 15).padStart(2, \"0\");\n  return {\n    t: `${h}:${m}`,\n    v: clamp(base + (Math.random() - 0.5) * variance * 2, 2, 100),\n    v2: clamp(base * 0.65 + (Math.random() - 0.5) * variance, 2, 100)\n  };\n});\n\n/** Append a new data point to an existing series */\nexport const appendChartPoint = prev => [...prev.slice(1), {\n  t: new Date().toLocaleTimeString(\"en-GB\", {\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n    second: \"2-digit\"\n  }),\n  v: clamp(prev.at(-1).v + (Math.random() - 0.5) * 14, 2, 100),\n  v2: clamp(prev.at(-1).v2 + (Math.random() - 0.5) * 10, 2, 100)\n}];\n\n/** Generate a random log line */\nexport const generateLogLine = () => {\n  const [level, msg, src] = LOG_ENTRIES[Math.floor(Math.random() * LOG_ENTRIES.length)];\n  const now = new Date();\n  const time = now.toLocaleTimeString(\"en-GB\", {\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n    second: \"2-digit\"\n  });\n  return {\n    id: `${Date.now()}-${Math.random()}`,\n    time,\n    level,\n    msg,\n    src,\n    isNew: true\n  };\n};\n\n/** Simulate metric drift */\nexport const driftMetric = (current, min, max, speed = 5) => clamp(current + (Math.random() - 0.5) * speed * 2, min, max);\n\n/** Generate weekly bar data */\nexport const generateBarData = () => [\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"].map(d => ({\n  d,\n  req: 6000 + Math.random() * 10000,\n  err: Math.random() * 300\n}));\n\n/** Clamp a number between min/max */\nexport const clamp = (val, min, max) => Math.max(min, Math.min(max, val));\n\n/** Format large numbers */\nexport const fmt = n => {\n  if (n >= 1000) return `${(n / 1000).toFixed(1)}K`;\n  return n.toFixed(0);\n};\n\n/** Determine severity color */\nexport const severityColor = (val, {\n  warn,\n  crit\n}, colors) => {\n  if (val >= crit) return colors.red;\n  if (val >= warn) return colors.amber;\n  return colors.cyan;\n};\n\n/** Determine badge class */\nexport const severityBadge = (val, {\n  warn,\n  crit\n}) => {\n  if (val >= crit) return \"badge-down\";\n  if (val >= warn) return \"badge-warn\";\n  return \"badge-ok\";\n};\n\n/** Determine severity label */\nexport const severityLabel = (val, {\n  warn,\n  crit\n}, labels = [\"NORMAL\", \"ELEVATED\", \"CRITICAL\"]) => {\n  if (val >= crit) return labels[2];\n  if (val >= warn) return labels[1];\n  return labels[0];\n};","map":{"version":3,"names":["LOG_ENTRIES","generateChartData","points","base","variance","Array","from","length","_","i","h","String","Math","floor","padStart","m","t","v","clamp","random","v2","appendChartPoint","prev","slice","Date","toLocaleTimeString","hour","minute","second","at","generateLogLine","level","msg","src","now","time","id","isNew","driftMetric","current","min","max","speed","generateBarData","map","d","req","err","val","fmt","n","toFixed","severityColor","warn","crit","colors","red","amber","cyan","severityBadge","severityLabel","labels"],"sources":["C:/Users/JOEL DSILVA/OneDrive/Desktop/Projects/BoQ_Formwork_Fitting/obsidian-core/src/utils/dataUtils.js"],"sourcesContent":["import { LOG_ENTRIES } from \"../constants/config\";\n\n/** Generate time-series chart points */\nexport const generateChartData = (points = 20, base = 50, variance = 20) =>\n  Array.from({ length: points }, (_, i) => {\n    const h = String(12 + Math.floor(i / 4)).padStart(2, \"0\");\n    const m = String((i % 4) * 15).padStart(2, \"0\");\n    return {\n      t:  `${h}:${m}`,\n      v:  clamp(base + (Math.random() - 0.5) * variance * 2,  2, 100),\n      v2: clamp(base * 0.65 + (Math.random() - 0.5) * variance, 2, 100),\n    };\n  });\n\n/** Append a new data point to an existing series */\nexport const appendChartPoint = (prev) => [\n  ...prev.slice(1),\n  {\n    t:  new Date().toLocaleTimeString(\"en-GB\", { hour: \"2-digit\", minute: \"2-digit\", second: \"2-digit\" }),\n    v:  clamp(prev.at(-1).v + (Math.random() - 0.5) * 14, 2, 100),\n    v2: clamp(prev.at(-1).v2 + (Math.random() - 0.5) * 10, 2, 100),\n  },\n];\n\n/** Generate a random log line */\nexport const generateLogLine = () => {\n  const [level, msg, src] = LOG_ENTRIES[Math.floor(Math.random() * LOG_ENTRIES.length)];\n  const now  = new Date();\n  const time = now.toLocaleTimeString(\"en-GB\", { hour: \"2-digit\", minute: \"2-digit\", second: \"2-digit\" });\n  return { id: `${Date.now()}-${Math.random()}`, time, level, msg, src, isNew: true };\n};\n\n/** Simulate metric drift */\nexport const driftMetric = (current, min, max, speed = 5) =>\n  clamp(current + (Math.random() - 0.5) * speed * 2, min, max);\n\n/** Generate weekly bar data */\nexport const generateBarData = () =>\n  [\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\",\"Sun\"].map((d) => ({\n    d,\n    req: 6000 + Math.random() * 10000,\n    err: Math.random() * 300,\n  }));\n\n/** Clamp a number between min/max */\nexport const clamp = (val, min, max) => Math.max(min, Math.min(max, val));\n\n/** Format large numbers */\nexport const fmt = (n) => {\n  if (n >= 1000) return `${(n / 1000).toFixed(1)}K`;\n  return n.toFixed(0);\n};\n\n/** Determine severity color */\nexport const severityColor = (val, { warn, crit }, colors) => {\n  if (val >= crit) return colors.red;\n  if (val >= warn) return colors.amber;\n  return colors.cyan;\n};\n\n/** Determine badge class */\nexport const severityBadge = (val, { warn, crit }) => {\n  if (val >= crit) return \"badge-down\";\n  if (val >= warn) return \"badge-warn\";\n  return \"badge-ok\";\n};\n\n/** Determine severity label */\nexport const severityLabel = (val, { warn, crit }, labels = [\"NORMAL\",\"ELEVATED\",\"CRITICAL\"]) => {\n  if (val >= crit) return labels[2];\n  if (val >= warn) return labels[1];\n  return labels[0];\n};\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,qBAAqB;;AAEjD;AACA,OAAO,MAAMC,iBAAiB,GAAGA,CAACC,MAAM,GAAG,EAAE,EAAEC,IAAI,GAAG,EAAE,EAAEC,QAAQ,GAAG,EAAE,KACrEC,KAAK,CAACC,IAAI,CAAC;EAAEC,MAAM,EAAEL;AAAO,CAAC,EAAE,CAACM,CAAC,EAAEC,CAAC,KAAK;EACvC,MAAMC,CAAC,GAAGC,MAAM,CAAC,EAAE,GAAGC,IAAI,CAACC,KAAK,CAACJ,CAAC,GAAG,CAAC,CAAC,CAAC,CAACK,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;EACzD,MAAMC,CAAC,GAAGJ,MAAM,CAAEF,CAAC,GAAG,CAAC,GAAI,EAAE,CAAC,CAACK,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;EAC/C,OAAO;IACLE,CAAC,EAAG,GAAGN,CAAC,IAAIK,CAAC,EAAE;IACfE,CAAC,EAAGC,KAAK,CAACf,IAAI,GAAG,CAACS,IAAI,CAACO,MAAM,CAAC,CAAC,GAAG,GAAG,IAAIf,QAAQ,GAAG,CAAC,EAAG,CAAC,EAAE,GAAG,CAAC;IAC/DgB,EAAE,EAAEF,KAAK,CAACf,IAAI,GAAG,IAAI,GAAG,CAACS,IAAI,CAACO,MAAM,CAAC,CAAC,GAAG,GAAG,IAAIf,QAAQ,EAAE,CAAC,EAAE,GAAG;EAClE,CAAC;AACH,CAAC,CAAC;;AAEJ;AACA,OAAO,MAAMiB,gBAAgB,GAAIC,IAAI,IAAK,CACxC,GAAGA,IAAI,CAACC,KAAK,CAAC,CAAC,CAAC,EAChB;EACEP,CAAC,EAAG,IAAIQ,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC,OAAO,EAAE;IAAEC,IAAI,EAAE,SAAS;IAAEC,MAAM,EAAE,SAAS;IAAEC,MAAM,EAAE;EAAU,CAAC,CAAC;EACrGX,CAAC,EAAGC,KAAK,CAACI,IAAI,CAACO,EAAE,CAAC,CAAC,CAAC,CAAC,CAACZ,CAAC,GAAG,CAACL,IAAI,CAACO,MAAM,CAAC,CAAC,GAAG,GAAG,IAAI,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC;EAC7DC,EAAE,EAAEF,KAAK,CAACI,IAAI,CAACO,EAAE,CAAC,CAAC,CAAC,CAAC,CAACT,EAAE,GAAG,CAACR,IAAI,CAACO,MAAM,CAAC,CAAC,GAAG,GAAG,IAAI,EAAE,EAAE,CAAC,EAAE,GAAG;AAC/D,CAAC,CACF;;AAED;AACA,OAAO,MAAMW,eAAe,GAAGA,CAAA,KAAM;EACnC,MAAM,CAACC,KAAK,EAAEC,GAAG,EAAEC,GAAG,CAAC,GAAGjC,WAAW,CAACY,IAAI,CAACC,KAAK,CAACD,IAAI,CAACO,MAAM,CAAC,CAAC,GAAGnB,WAAW,CAACO,MAAM,CAAC,CAAC;EACrF,MAAM2B,GAAG,GAAI,IAAIV,IAAI,CAAC,CAAC;EACvB,MAAMW,IAAI,GAAGD,GAAG,CAACT,kBAAkB,CAAC,OAAO,EAAE;IAAEC,IAAI,EAAE,SAAS;IAAEC,MAAM,EAAE,SAAS;IAAEC,MAAM,EAAE;EAAU,CAAC,CAAC;EACvG,OAAO;IAAEQ,EAAE,EAAE,GAAGZ,IAAI,CAACU,GAAG,CAAC,CAAC,IAAItB,IAAI,CAACO,MAAM,CAAC,CAAC,EAAE;IAAEgB,IAAI;IAAEJ,KAAK;IAAEC,GAAG;IAAEC,GAAG;IAAEI,KAAK,EAAE;EAAK,CAAC;AACrF,CAAC;;AAED;AACA,OAAO,MAAMC,WAAW,GAAGA,CAACC,OAAO,EAAEC,GAAG,EAAEC,GAAG,EAAEC,KAAK,GAAG,CAAC,KACtDxB,KAAK,CAACqB,OAAO,GAAG,CAAC3B,IAAI,CAACO,MAAM,CAAC,CAAC,GAAG,GAAG,IAAIuB,KAAK,GAAG,CAAC,EAAEF,GAAG,EAAEC,GAAG,CAAC;;AAE9D;AACA,OAAO,MAAME,eAAe,GAAGA,CAAA,KAC7B,CAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,CAAC,CAACC,GAAG,CAAEC,CAAC,KAAM;EACtDA,CAAC;EACDC,GAAG,EAAE,IAAI,GAAGlC,IAAI,CAACO,MAAM,CAAC,CAAC,GAAG,KAAK;EACjC4B,GAAG,EAAEnC,IAAI,CAACO,MAAM,CAAC,CAAC,GAAG;AACvB,CAAC,CAAC,CAAC;;AAEL;AACA,OAAO,MAAMD,KAAK,GAAGA,CAAC8B,GAAG,EAAER,GAAG,EAAEC,GAAG,KAAK7B,IAAI,CAAC6B,GAAG,CAACD,GAAG,EAAE5B,IAAI,CAAC4B,GAAG,CAACC,GAAG,EAAEO,GAAG,CAAC,CAAC;;AAEzE;AACA,OAAO,MAAMC,GAAG,GAAIC,CAAC,IAAK;EACxB,IAAIA,CAAC,IAAI,IAAI,EAAE,OAAO,GAAG,CAACA,CAAC,GAAG,IAAI,EAAEC,OAAO,CAAC,CAAC,CAAC,GAAG;EACjD,OAAOD,CAAC,CAACC,OAAO,CAAC,CAAC,CAAC;AACrB,CAAC;;AAED;AACA,OAAO,MAAMC,aAAa,GAAGA,CAACJ,GAAG,EAAE;EAAEK,IAAI;EAAEC;AAAK,CAAC,EAAEC,MAAM,KAAK;EAC5D,IAAIP,GAAG,IAAIM,IAAI,EAAE,OAAOC,MAAM,CAACC,GAAG;EAClC,IAAIR,GAAG,IAAIK,IAAI,EAAE,OAAOE,MAAM,CAACE,KAAK;EACpC,OAAOF,MAAM,CAACG,IAAI;AACpB,CAAC;;AAED;AACA,OAAO,MAAMC,aAAa,GAAGA,CAACX,GAAG,EAAE;EAAEK,IAAI;EAAEC;AAAK,CAAC,KAAK;EACpD,IAAIN,GAAG,IAAIM,IAAI,EAAE,OAAO,YAAY;EACpC,IAAIN,GAAG,IAAIK,IAAI,EAAE,OAAO,YAAY;EACpC,OAAO,UAAU;AACnB,CAAC;;AAED;AACA,OAAO,MAAMO,aAAa,GAAGA,CAACZ,GAAG,EAAE;EAAEK,IAAI;EAAEC;AAAK,CAAC,EAAEO,MAAM,GAAG,CAAC,QAAQ,EAAC,UAAU,EAAC,UAAU,CAAC,KAAK;EAC/F,IAAIb,GAAG,IAAIM,IAAI,EAAE,OAAOO,MAAM,CAAC,CAAC,CAAC;EACjC,IAAIb,GAAG,IAAIK,IAAI,EAAE,OAAOQ,MAAM,CAAC,CAAC,CAAC;EACjC,OAAOA,MAAM,CAAC,CAAC,CAAC;AAClB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}